# Анализатор Спектра Аудио

Приложение для визуализации спектра аудио в реальном времени, созданное на .NET 9 с использованием WPF.

## Описание

Этот анализатор спектра захватывает аудио с микрофона по умолчанию, выполняет быстрое преобразование Фурье (БПФ) и отображает результат в виде вертикальных столбиков с эффектом зеркального отражения.

## Возможности

- ✅ **Захват аудио в реальном времени** с микрофона
- ✅ **БПФ анализ** с использованием MathNet.Numerics
- ✅ **64 спектральных полосы** с настраиваемым количеством
- ✅ **Зеркальное отражение** спектра для визуального эффекта
- ✅ **Плавные анимации** переходов высоты столбиков
- ✅ **Настройка чувствительности** в реальном времени
- ✅ **Темная тема** с оранжевыми градиентами
- ✅ **MVVM архитектура** для чистого кода

## Технологии

- **.NET 9** - Целевая платформа
- **WPF** - UI фреймворк
- **NAudio 2.2.1** - Обработка аудио
- **MathNet.Numerics 5.0.0** - Математические операции и БПФ
- **MVVM** - Архитектурный паттерн

## Системные требования

- Windows 10/11
- .NET 9 Runtime
- Аудиоустройство ввода (микрофон)

## Установка и запуск

1. **Клонирование репозитория:**
   ```bash
   git clone <repository-url>
   cd SpectrumAnalyzer
   ```

2. **Восстановление пакетов:**
   ```bash
   dotnet restore
   ```

3. **Сборка проекта:**
   ```bash
   dotnet build
   ```

4. **Запуск приложения:**
   ```bash
   dotnet run
   ```

## Использование

1. **Запуск анализа:** Нажмите кнопку "▶ Старт" для начала захвата аудио
2. **Остановка:** Нажмите кнопку "⏹ Стоп" для остановки
3. **Настройка чувствительности:** Используйте слайдер справа для изменения чувствительности от 0.1x до 5.0x
4. **Визуализация:** Наблюдайте за спектральными столбиками и их отражением в реальном времени

## Архитектура

### Компоненты

- **`AudioProcessor`** - Модель для захвата аудио и БПФ анализа
- **`SpectrumAnalyzerViewModel`** - ViewModel с логикой приложения
- **`MainWindow`** - Главное окно с UI элементами
- **`ViewModelBase`** - Базовый класс для ViewModel с INotifyPropertyChanged
- **`RelayCommand`** - Реализация ICommand для MVVM

### Обработка данных

1. **Захват аудио**: NAudio WaveInEvent (44.1 kHz, 16-bit, моно)
2. **Оконная функция**: Функция Ханна для уменьшения спектральной утечки
3. **БПФ**: 1024-точечное преобразование Фурье
4. **Группировка**: 512 частотных бинов → 64 спектральные полосы
5. **Нормализация**: Логарифмическое масштабирование и сглаживание

## Настройки

### Параметры аудио
- Частота дискретизации: 44,100 Гц
- Разрядность: 16 бит
- Каналы: Моно
- Размер буфера: 1024 отсчета

### Параметры БПФ
- Размер БПФ: 1024 точки
- Оконная функция: Ханна
- Частотное разрешение: ~43 Гц на бин
- Количество полос: 64

## Возможные проблемы

### Отсутствует аудиоустройство
**Ошибка**: "Не удалось начать захват аудио"
**Решение**: Убедитесь, что микрофон подключен и работает

### Низкая производительность
**Проблема**: Высокая загрузка CPU
**Решение**: Закройте другие аудиоприложения, проверьте настройки чувствительности

### Нет визуализации
**Проблема**: Столбики не двигаются
**Решение**: Проверьте уровень входного сигнала, увеличьте чувствительность

## Дальнейшее развитие

- [ ] Поддержка различных аудиоустройств
- [ ] Сохранение настроек
- [ ] Экспорт спектральных данных
- [ ] Дополнительные визуальные эффекты
- [ ] Настройка количества полос
- [ ] Поддержка стерео режима

## Лицензия

MIT License - подробности в файле LICENSE.

## Контакты

Для вопросов и предложений создавайте Issues в репозитории.